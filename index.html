<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CIS 545 Final Project - Japan Real Estate Prices Analysis</title>
    <link rel="icon" href="images/favicon.png" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">

    <script src='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css' rel='stylesheet' />
    <script src="d3.v7.min.js"></script>
</head>

<body>
    <header class="mb-4">
        <div class="container text-center">
            <h1>Japan Real Estate Prices Analysis</h1>
            <p class="lead">Julien Desautels, Jake Tian, Guan He </p>
        </div>
    </header>

    <main class="container">
        <section id="introduction" class="mb-4">
            <h2>Introduction <a
                    href="https://docs.google.com/document/d/1bT5gIUz0BQJXp8fasvlIojsc32E4hPE6jGohxqlyHEk/edit?usp=sharing"
                    target="_blank" class="btn btn-primary btn-sm ml-2" id="colab-btn">View Project Proposal</a>
                <span class="tooltip-text" id="tooltip-text">This document contains details regarding our project
                    proposal.</span>
            </h2>
            <p>Real estate isn't just about buildings and land; it's a vital part of our economy and personal lives.
                Whether you're a homeowner, investor, or policymaker, understanding property values is crucial. In this
                project, we focus on Greater Metropolitan Tokyo's real estate markets to uncover the key drivers that
                influence
                property prices.</p>
            <p>We are not just looking at traditional factors like location and size. Our analysis dives deeper,
                exploring a broad array of features and their intricate relationships with property values. By doing
                this, we aim to discover perspectives that go beyond conventional wisdom, reflecting trends such as
                Japan's
                prolonged period of low deflation over the past 15 years.</p>
            <p>Why does this matter? Because real estate decisions affect us all. A shift in property values can have
                significant economic impacts, as history has shown us. Our project isn't just for experts and
                developers; we're making it accessible to everyone. With interactive visualizations and clear
                explanations, we want to inform potential investors, real estate agents, homeowners, and even
                policymakers about what truly drives property values in Greater Metropolitan Tokyo. </p>
            <p>Ultimately, our goal is to forecast property values using detailed analysis, and in doing so, help
                various stakeholders make informed decisions. Whether you're managing a large portfolio of properties or
                just interested in understanding the market, this project offers a fresh, viewer-friendly perspective on
                real estate in one of the world's most fascinating regions.</p>
        </section>

        <section id="datasources" class="mb-4">
            <h2>Data Sources</h2>
            <p>The main data sources for this project include the 'Japan Real Estate Prices' dataset accessible on
                Kaggle and the 'Japan Municipal Boundaries Data' provided by ESRI Japan Corporation.</p>

            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <!-- Japan Real Estate Prices -->
                        <h5>Japan Real Estate Prices</h5>
                        <p>For this project's scope, we've narrowed our focus to four prefectures within Japan, which
                            collectively
                            constitute the Greater Metropolitan Tokyo Area. The features highlighted in the table below
                            serve as the
                            primary focus of our predictive models.</p>
                        <table class="table table-striped">
                            <tbody>
                                <tr>
                                    <th>Link</th>
                                    <td><a href="https://www.kaggle.com/datasets/nishiodens/japan-real-estate-transaction-prices"
                                            target="_blank">Japan Real Estate Prices Kaggle Dataset</a></td>
                                </tr>
                                <tr>
                                    <th>Size</th>
                                    <td>
                                        <li>Total: 1.05GB; 48 csv files; 1 csv for prefecture codes; 47 csvs for each
                                            prefecture's
                                            details</li>
                                        <li>Per prefecture: 38 columns per csv; at least 20k+ rows per csv</li>
                                        <li>Tokyo: 407k rows (largest prefecture)</li>
                                        <li>Greater Tokyo Area (Tokyo; Chiba; Kanagawa; Saitama): ~1.081M rows</li>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Features</th>
                                    <td>
                                        <span class="highlight">Prefecture</span>,
                                        <span class="highlight">District</span>,
                                        <span class="highlight">Nearest station</span>,
                                        <span class="highlight">Time to nearest station (min & max)</span>,
                                        <span class="highlight">Trade price</span>,
                                        <span class="highlight">Total floor area</span>,
                                        <span class="highlight">Unit price</span>,
                                        <span class="highlight">Building year</span>,
                                        <span class="highlight">City planning</span>,
                                        <span class="highlight">Renovation</span>,
                                        Type, Region, Municipality code & name,
                                        Coverage ratio,
                                        Floor area ratio,
                                        Price per Tsubo,
                                        Land shape, Frontage, Area,
                                        Prewar building, Use, Purpose,
                                        Direction, Classification, Breadth,
                                        Period, Year, Quarter
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- Japanese Nationwide Municipal Boundary Data -->
                        <h5>Japanese Nationwide Municipal Boundary Data</h5>
                        <p>For the geospatial analysis, we use the 'Japanese Nationwide Municipal Boundary Data'
                            provided by ESRI Japan Corporation. We will convert this into geojson format during the
                            preprocessing
                            stage.</p>
                        <table class="table table-striped">
                            <tbody>
                                <tr>
                                    <th>Link</th>
                                    <td><a href="https://www.esrij.com/products/japan-shp/" target="_blank">Japanese
                                            Nationwide Municipal Boundary Data</a></td>
                                </tr>
                                <tr>
                                    <th>Size</th>
                                    <td>6.2MB</td>
                                </tr>
                                <tr>
                                    <th>Coordinate System</th>
                                    <td>Geographic Coordinate System JGD 2011 (Latitude & Longitude JGD 2011)</td>
                                </tr>
                                <tr>
                                    <th>Attributes</th>
                                    <td>
                                        <li>JCODE: Municipal Code (5-digit JIS code)</li>
                                        <li>KEN: Prefecture Name</li>
                                        <li>SICHO: Subprefecture Name</li>
                                        <li>GUN: County Name (only for towns and villages)</li>
                                        <li>SIKUCHOSON: City, Ward, Town, Village Name</li>
                                        <li>CITY_ENG: City Name (English)</li>
                                        <li>P_NUM: Population</li>
                                        <li>H_NUM: Number of Households</li>
                                    </td>
                                </tr>
                                <tr>
                                    <th>File Composition</th>
                                    <td>
                                        <li>japan_verxx.shp: Shape Data</li>
                                        <li>japan_verxx.shx: Index Data</li>
                                        <li>japan_verxx.dbf: Attribute Data</li>
                                        <li>japan_verxx.sbn/sbx: Spatial Index Data</li>
                                        <li>japan_verxx.prj: Projection Information</li>
                                        <li>japan_verxx.shp.xml: Metadata</li>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Data Preprocessing Section -->
        <section id="data-preprocessing" class="mb-4">
            <h2>Data Preprocessing
                <a href="https://colab.research.google.com/drive/11wb7jZXQetHCZnSsu5rKHmJ_8dsJXf6i" target="_blank"
                    class="btn btn-primary btn-sm ml-2" id="colab-btn">View Colab Notebook</a>
                <span class="tooltip-text" id="tooltip-text">This notebook contains details regarding the data
                    preprocessing process.</span>
            </h2>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h5>Introduction</h5>
                        <p>The data preprocessing was an extensive and critical phase in the preparation of Japanese
                            Real Estate data, focusing on the Greater Tokyo Area (GTA). The GTA was selected from over 2
                            million rows of data, covering 4 out of 47 initial prefectures.</p>
                        <h5>Key Highlights</h5>
                        <table class="table table-striped">
                            <tr>
                                <th>Data Scope Reduction</th>
                                <td>The scope was narrowed down to approximately 1 million rows for the GTA, excluding
                                    irrelevant or less significant regions.</td>
                            </tr>
                            <tr>
                                <th>NULL Handling & Imputation</th>
                                <td>Missing values were systematically treated using imputation or removal, depending on
                                    the nature of the attribute.</td>
                            </tr>
                            <tr>
                                <th>Categorization & Binning</th>
                                <td>Features like 'FloorPlan', 'Structure' and 'CityPlanning' were reorganized to
                                    prevent overfitting
                                    and facilitate modeling.</td>
                            </tr>
                            <tr>
                                <th>Feature Engineering</th>
                                <td>New features were created, such as a building's age at the time of sale, and less
                                    useful features were dropped, reducing dataset volume and complexity.</td>
                            </tr>
                            <tr>
                                <th>Location Analysis</th>
                                <td>The integration of geographic information with real estate data was achieved using
                                    latitude and longitude centroids. This included calculating the distance of
                                    properties from Tokyo's city center.</td>
                            </tr>
                            <tr>
                                <th>Final Data Transformation</th>
                                <td>26 key columns were left after thorough cleaning and transformation, ensuring
                                    readiness for Exploratory Data Analysis (EDA) and machine learning tasks. Only the
                                    'Renovation' column contains approximately 17% NULL values.</td>
                            </tr>
                        </table>
                        <h5>Conclusion</h5>
                        <p>The preprocessing stage laid a robust foundation for analysis and machine learning models.
                            The output data was saved as <b>gta_residential.csv</b> at our <a
                                href="https://drive.google.com/drive/u/0/folders/105-93geAvFsR5Qc-Ya2GJ1WTKb7WCHz9"
                                target="_blank">Shared Google Drive
                                PreprocessedData Folder</a>. The following table shows an overview of the data.</p>
                        <table class="table table-striped">
                            <tr>
                                <th>Column</th>
                                <th>Non-Null Count</th>
                                <th>Dtype</th>
                            </tr>
                            <tr>
                                <td>No</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>Type</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>MunicipalityCode</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>Prefecture</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>Municipality</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>DistrictName</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>NearestStation</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>TradePrice</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>Area</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>AreaIsGreater2000</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>TotalFloorAreaIsGreater2000</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>BuildingYear</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>Period</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>Year</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>Quarter</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>FloorPlan</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>TotalFloorArea</td>
                                <td>696333</td>
                                <td>float64</td>
                            </tr>
                            <tr>
                                <td>Structure</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>Building_Age</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>TimeToNearestStation</td>
                                <td>696333</td>
                                <td>float64</td>
                            </tr>
                            <tr>
                                <td>CityPlanning</td>
                                <td>696333</td>
                                <td>object</td>
                            </tr>
                            <tr>
                                <td>Renovation</td>
                                <td><span class="highlight-warn">577953</span></td>
                                <td>float64</td>
                            </tr>
                            <tr>
                                <td>Latitude Centroid</td>
                                <td>696333</td>
                                <td>float64</td>
                            </tr>
                            <tr>
                                <td>Longitude Centroid</td>
                                <td>696333</td>
                                <td>float64</td>
                            </tr>
                            <tr>
                                <td>JCODE</td>
                                <td>696333</td>
                                <td>int64</td>
                            </tr>
                            <tr>
                                <td>Distance_City_Center_KM</td>
                                <td>696333</td>
                                <td>float64</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Exploratory Data Analysis Section -->
        <section id="exploratory-data-analysis" class="mb-4">
            <h2>Exploratory Data Analysis
                <a href="https://colab.research.google.com/drive/1_mMlwNhB6bZNGPg5qQhbK0o2pPvrPsjk" target="_blank"
                    class="btn btn-primary btn-sm ml-2" id="colab-btn">View Colab Notebook</a>
                <span class="tooltip-text" id="tooltip-text">This notebook contains details regarding exploratory data
                    analysis.</span>
            </h2>

            <h5>Correlation Matrix Analysis</h5>
            <p>Only numeric features were considered, as including one-hot encoded categorical
                features would not work as effectively.</p>
            <img src="images/eda_corr.png" alt="Correlation Matrix Heatmap"
                style="width: 100%; max-width: 900px; display: block; margin: 15px auto;">
            <ul>
                <li>Heatmap Insights:</li>
                <ul>
                    <li>Strong positive correlation between Building Year and Building Age.</li>
                    <li>Building Age is a better indicator of the building's condition.</li>
                    <li>Multicollinearity is not a significant issue.</li>
                </ul>
                <li>Key Positive Correlations:</li>
                <ul>
                    <li>TradePrice - BuildingYear: 0.390</li>
                    <li>TradePrice - TotalFloorArea: 0.313</li>
                    <!-- Add other positive correlations here -->
                </ul>
                <li>Key Negative Correlations:</li>
                <ul>
                    <li>TradePrice - BuildingAge: -0.388</li>
                    <li>Building Year - Building Age: -0.963</li>
                    <!-- Add other negative correlations here -->
                </ul>
            </ul>

            <h5>PCA Analysis</h5>
            <h6>PCA Data: All Features</h6>
            <p>Numeric Features: Visualization using PCA components is more effective without one-hot encoded
                categorical features.</p>
            <div class="row align-items-center">
                <div class="col-md-5">
                    <img src="images/pca_all_var.png" alt="PCA All Variance" class="img-fluid mb-3">
                </div>
                <div class="col-md-7">
                    <img src="images/pca_all.png" alt="PCA All" class="img-fluid mb-3">
                </div>
            </div>
            <ul>
                <li>Explained Variance Plot: Two PCA components explain ~55% of the total variance.</li>
                <li>Dimensions Insight:</li>
                <ul>
                    <li>Dimension 1: Building Age and Value (TradePrice)</li>
                    <li>Dimension 2: Area and Distance</li>
                </ul>
                <li>Prefecture Insights: The plot captures many correlations.</li>
            </ul>

            <h6>PCA Data: No Year</h6>
            <p>Year Dropped: As Year of sale's variance was not captured, and it relates the least as a property
                descriptor, it was dropped.</p>
            <div class="row align-items-center">
                <div class="col-md-5">
                    <img src="images/pca_no_year_var.png" alt="PCA No Year Variance" class="img-fluid mb-3">
                </div>
                <div class="col-md-7">
                    <img src="images/pca_no_year.png" alt="PCA No Year" class="img-fluid mb-3">
                </div>
            </div>
            <ul>
                <li>Explained Variance: ~63% of the data's variance is accounted for in two dimensions.</li>
                <li>Other Variance Results (2 dimensions):</li>
                <ul>
                    <li>5 Features (Drop Year, TotalFloorArea, BuildingYear): 64.4%</li>
                    <li>6 Features (Drop Year, TotalFloorArea): 67.0%</li>
                    <li>6 Features (Drop Year, BuildingYear): 61.9%</li>
                </ul>
            </ul>
        </section>

        <h5>Key Findings</h5>
        <p>A comprehensive analysis reveals various insights into the characteristics of residences.</p>
        <ul>
            <li>Renovation Insights:</li>
            <ul>
                <li>Vast majority of residences (~86%) are not renovated.</li>
            </ul>
            <li>Size and Layout Insights:</li>
            <ul>
                <li>Most residences tended to be larger in size - 3 bedroom (32%) or 4 bedroom (31%) with living room,
                    dining room, and a kitchen.</li>
            </ul>
            <li>Material Insights:</li>
            <ul>
                <li>Wood and reinforced concrete tended to be the most popular building material, used in over 40% of
                    residences each.</li>
            </ul>
            <li>Location Insights:</li>
            <ul>
                <li>Over 2/3 of residences are zoned in residential areas while a mere 12% of residences are located in
                    an industrial area.</li>
            </ul>
            <li>Type and Preference Insights:</li>
            <ul>
                <li>Residential Land (Land and Building) is the most common type.</li>
                <li>Tokyo's Setagaya Ward is a prevalent location with 4LDK/Single-Family Home being the most frequent
                    floor plan.</li>
                <li>Medium-High Residential is the most frequent city planning zone.</li>
            </ul>
            <li>City Planning Distribution Insights:</li>
            <ul>
                <li>Majority of residences fall under Medium-High Residential zoning (281,743), followed by Low
                    Residential (198,189).</li>
                <li>Commercial and Industrial zones make up smaller portions at 136,312 and 80,089, respectively.</li>
            </ul>
            <li>Trade Price Bucket Insights:</li>
            <ul>
                <li>99% of properties are priced less than or equal to 350 million yen (~2.42 million USD).</li>
                <li>90% of properties are priced less than or equal to 90 million yen (~427,867 USD).</li>
                <li>50% of properties are priced less than or equal to 29 million yen (~200,131 USD).</li>
                <li>Only 5% of properties are priced less than or equal to 9 million yen (~62,110 USD).</li>
            </ul>
            <li>Average Trade Price Trend Insights</li>
            <ul>
                <li>The average trade price in GTA saw a general decline from 2005 to 2019, falling from 65-75 million
                    yen to
                    35-45 million yen.</li>
                <li>This decline could be attributed to:
                    <ul>
                        <li>Economic factors such as deflation, which might have lowered overall price levels.</li>
                        <li>Changes in regulatory or zoning policies that could have influenced real estate demand.</li>
                        <li>Shifts in consumer preferences, possibly favoring different property types or locations.
                        </li>
                    </ul>
                </li>
                <li>A recent upward trend since 2018, reaching around 50 million yen, may indicate:
                    <ul>
                        <li>A recovery in economic conditions, perhaps influenced by fiscal or monetary policy
                            adjustments.</li>
                        <li>An increased demand for properties in GTA, possibly driven by urbanization or new investment
                            opportunities.</li>
                        <li>Improvements in the overall real estate market, reflecting positive sentiment and greater
                            market stability.</li>
                    </ul>
                </li>
            </ul>
            <img src="images/avg_tradeprice_over_time.png" alt="Average TradePrice Over Time"
                style="width: 100%; max-width: 900px; display: block; margin: 15px auto;">
            <li>Average Price Per Square Meter by Region Insights:</li>
            <ul>
                <li>Top regions like Tokyo's Chiyoda, Chuo, and Minato Wards lead with prices above 2 million yen per
                    square
                    meter.</li>
                <li>Contrastingly, some areas in Chiba and Saitama Prefectures report as low as 10,396 yen per square
                    meter.</li>
            </ul>
            <div id='map' style='width: 100%; max-width: 900px; display: block; margin: 15px auto; height: 650px;'></div>
            <div id="avgprice_municipal_map"></div>
        </ul>

        <!-- Data Modeling Section -->
        <section id="data-modeling" class="mb-4">
            <h2>Data Modeling</h2>

            <div class="ms-3">
                <!-- Regression Analysis Subsection -->
                <h5>Regression Analysis</h5>
                <p><a href="https://colab.research.google.com/drive/1byr7cK3ms8N_QnnEsl2XaOooHY30ZwoG"
                        target="_blank">Colab Notebook for Regression Analysis</a></p>

                <!-- KMeans, Random Forest Subsection -->
                <h5>KMeans and Random Forest</h5>
                <p><a href="https://colab.research.google.com/drive/1vSTGEb9ht-lYmoz99XzVELNZbwHfJHW_"
                        target="_blank">Colab Notebook for KMeans and Random Forest Analysis</a></p>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
    <script src="script.js"></script>
</body>

</html>